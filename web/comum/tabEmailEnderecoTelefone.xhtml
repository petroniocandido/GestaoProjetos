<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" >
    <p:tab rendered="#{controller.entidade.id > 0}" title="Endereços">
        <br/>
        <h:panelGrid columns="4">                    

            <h:outputLabel value="Rua/Av/Estrada*:" />
            <p:inputText id="txtRua" value="${controller.endereco.rua}" required="false"/>   


            <h:outputLabel value="Número*:" />
            <p:inputText id="txtNum" value="${controller.endereco.numero}"  required="false"/>   

            <h:outputLabel value="Complemento:" />
            <p:inputText id="txtComplemento" value="${controller.endereco.complemento}" required="false"/>                      

            <h:outputLabel value="Bairro*:" />
            <p:inputText id="txtBairro" value="${controller.endereco.bairro}" required="false"/> 

            <h:outputLabel value="Cidade*:" />
            <p:inputText id="txtCidade" value="${controller.endereco.cidade}" required="false"/>  

            <h:outputLabel value="Cep*:" />
            <p:inputMask id="txtCep" value="${controller.endereco.cep}" mask="99.999-99" required="false"/> 

            <p:commandButton value="Adicionar" icon="ui-icon-check" 
                             action="${controller.addEndereco()}" style="margin:0"
                             update="tblEnderecos txtRua txtNum txtComplemento txtBairro 
                             txtCidade txtCep" /> 

        </h:panelGrid>

        <br/>

        <p:dataTable id="tblEnderecos" value="${controller.entidade.enderecos}" 
                     var="item" emptyMessage="Registros não Encontrados!" >

            <p:column sortBy="endereco" headerText="Endereços">
                ${item}
            </p:column>

            <p:column sortBy="editar" headerText="Editar">
                <p:commandButton ajax="false" value="Editar" >
                    <f:setPropertyActionListener target="#{controller.endereco}" value="#{item}" />
                </p:commandButton>
            </p:column>

            <p:column sortBy="remover" headerText="Remover" >
                <p:commandButton ajax="false" value="Remover" action="#{controller.removeEndereco()}">
                    <f:setPropertyActionListener target="#{controller.endereco}" value="#{item}" />
                </p:commandButton>
            </p:column>


        </p:dataTable>


    </p:tab>

    <!--
    <p:tab rendered="#{controller.entidade.id > 0}" title="Telefones">
        <br/>
        <h:panelGrid columns="5">
            <h:outputLabel value="DDD*:" />
            <p:inputMask id="txtDDD" value="${controller.telefone.ddd}" mask="99" size="2" required="false"/>   

            <h:outputLabel value="Número*:" />
            <p:inputMask id="txtNumero" value="${controller.telefone.numero}" mask="9999-9999" size="9" required="false"/>                      

            <p:commandButton value="Adicionar" icon="ui-icon-check" ajax="false"
                             action="${controller.addTelefone}" style="margin:0"
                             update="tblTelefone txtDDD txtNumero"/>


        </h:panelGrid> 
        <br/>

        <p:dataTable id="tblTelefone" value="${controller.entidade.telefones}" var="item" emptyMessage="Registros não Encontrados!" style="font: medium; color: blue">
            <p:column sortBy="ddd" headerText="DDD">
                ${item.ddd}
            </p:column>

            <p:column sortBy="numero" headerText="Número">
                ${item.numero}
            </p:column>                            

            <p:column sortBy="editar" headerText="Editar">
                <p:commandButton ajax="false" value="Editar" >
                    <f:setPropertyActionListener target="#{controller.telefone}" value="#{item}" />
                </p:commandButton>
            </p:column>

            <p:column sortBy="remover" headerText="Remover" >
                <p:commandButton ajax="false" value="Remover" action="#{controller.removeTelefone()}">
                    <f:setPropertyActionListener target="#{controller.telefone}" value="#{item}" />
                </p:commandButton>
            </p:column>

        </p:dataTable>

    </p:tab>

    <p:tab rendered="#{controller.entidade.id > 0}" title="E-mail">
        <br/>
        <h:panelGrid columns="2">                            
            <h:outputLabel value="E-mail*:" />
            <p:inputText id="txtEndereco" value="${controller.email.endereco}" required="false" style="width: 150%"/>   

            <p:commandButton value="Adicionar" icon="ui-icon-check" 
                             action="${controller.addEmail()}" update="tblEmail txtEndereco"/>

        </h:panelGrid> 

        <br/>

        <p:dataTable id="tblEmail" value="${controller.entidade.emails}" var="item" emptyMessage="Registros não Encontrados!" style="font: medium; color: blue">
            <p:column sortBy="endereco" headerText="Email">
                ${item.endereco}
            </p:column>                                                     

            <p:column sortBy="editar" headerText="Editar">
                <p:commandButton ajax="false" value="Editar" >
                    <f:setPropertyActionListener target="#{controller.email}" value="#{item}" />
                </p:commandButton>
            </p:column>

            <p:column sortBy="remover" headerText="Remover" >
                <p:commandButton ajax="false" value="Remover" action="#{controller.removeEmail()}">
                    <f:setPropertyActionListener target="#{controller.email}" value="#{item}" />
                </p:commandButton>
            </p:column>

        </p:dataTable>

    </p:tab>
    -->
</ui:composition>

